<html>
    <head>
    <title>Snake Game</title>
    </head>
    <body>
        <div id="score">0</div>
        <canvas id="snakeboard" width="400" height="400"></canvas>
        <style>
            #snakeboard {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
            #score {
                text-align: center;
                font-size: 140px;
            }
        </style>
    </body>
    <script>
    const board_border = 'black';
    const board_background = "white";
    const snake_col = 'lightblue';
    const snake_border = 'darkblue';
    let snake = [
        {x: 200, y: 200},
        {x: 190, y: 200},
        {x: 180, y: 200},
        {x: 170, y: 200},
        {x: 160, y: 200}
        ]
    let score = 0
    let changing_direction = false;
    let food_x;   
    let food_y;
    let dx = 10;
    let dy = 0;
    const snakeboard = document.getElementById("snakeboard");
    const snakeboard_ctx = snakeboard.getcontext("2d");
    main();
    gen_food();
    document.addEventListener("keydown", change_direction);
    function main() {
        if (has_game_edned) return;
        changing_direction = false;
        setTimeout(function ontick() {
            clear_board();
            drawFood();
            move_snake();
            drawsnake();
            main();
        }, 100);
    }
    function clear_board() {
        snakeboard_ctx.fillstyle = board_background;
        snakeboard_ctx.strokestyle = board_border;
        snakeboard_ctx.fillRect(0, 0, snakeboard.width, snakeboard.height);
        snakeboard_ctx.strokeRect(0, 0, snakeboard.width, snakeboard.height);
    }
    function drawsnake() {
        snak.forEach(drawsnakepert)
        }
        function drawFood() {
            snakeboard_ctx.fillstyle = 'lightgreen';
            snakeboard_ctx.strokestyle = 'darkgreen';
            snakeboard_ctx.fillRect(food_x, food_y, 10, 10);
            snakeboard_ctx.strokeRect(food_x, food_y, 10, 10);
        }
        function drawsnakepert(snakepart) {
            snakeboard_ctx.fillsyle = snake_col;
            snakeboard_ctx.strokestyle = snake_border;
            snakeboard_ctx.fillRect(snakepart.x, snakepart.y, 10, 10);
        }
        function has_game_edned() {
            for (let i = 4; i < snake.length; i++) {
            if (snake[i].x === snake[0].x && snake[i].y === snake[0].y) return true
        }
        const hitleftwall = snake[0].x < 0;
        const hitrightwall = snake[0].x > snakeboard.width - 10;
        const hittopwall = snake[0].y < 0;
        const hitbottpwall = snake[0].y > snakeboard.height - 10;
        return hitleftwall
    }
    </script>
    
